definitions:
  errors.ErrorInfo:
    properties:
      code:
        example: BAD_REQUEST
        type: string
      message:
        example: 请求参数错误
        type: string
    type: object
  errors.ErrorResponse:
    properties:
      error:
        $ref: '#/definitions/errors.ErrorInfo'
      success:
        example: false
        type: boolean
    type: object
  models.Banner:
    properties:
      created_at:
        description: 创建时间
        type: string
      end_time:
        description: 活动结束时间（可为空）
        type: string
      id:
        description: 主键（使用雪花算法生成，JSON序列化为字符串）
        type: integer
      image_url:
        description: 图片URL
        type: string
      link_url:
        description: 跳转链接（可为空）
        type: string
      sort:
        description: 排序，数字越小越靠前
        type: integer
      start_time:
        description: 活动开始时间（可为空）
        type: string
      status:
        description: 状态：active, inactive
        type: string
      subtitle:
        description: 副标题（可为空）
        type: string
      title:
        description: 标题
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  models.Booking:
    properties:
      booking_number:
        description: 预订单号（唯一，JSON序列化为字符串）
        type: integer
      cancel_reason:
        description: 取消原因
        type: string
      check_in:
        description: 入住日期（有索引）
        type: string
      check_out:
        description: 退房日期（有索引）
        type: string
      created_at:
        description: 创建时间
        type: string
      guest_id_card:
        description: 入住人身份证号
        type: string
      guest_name:
        description: 入住人姓名
        type: string
      guest_phone:
        description: 入住人电话
        type: string
      id:
        description: 主键（JSON序列化为字符串）
        type: integer
      payment_method:
        description: 支付方式：wechat, alipay, card
        type: string
      payment_status:
        description: 支付状态：unpaid, paid, refunded
        type: string
      room:
        allOf:
        - $ref: '#/definitions/models.Room'
        description: 关联的房间
      room_id:
        description: 房间 ID（有索引）
        type: integer
      special_request:
        description: 特殊要求
        type: string
      status:
        description: 状态：pending, confirmed, checkin, checkout, cancelled
        type: string
      total_days:
        description: 总天数
        type: integer
      total_price:
        description: 总价
        type: number
      updated_at:
        description: 更新时间
        type: string
      user:
        allOf:
        - $ref: '#/definitions/models.User'
        description: |-
          关联查询（可选）
          当查询 Booking 时，可以同时加载 User 和 Room 的信息
      user_id:
        description: 用户 ID（有索引，JSON序列化为字符串）
        type: integer
    type: object
  models.Facility:
    properties:
      created_at:
        description: 创建时间
        type: string
      floor:
        description: 楼层
        type: integer
      height:
        description: 高度
        type: integer
      id:
        type: integer
      label:
        description: 设施标签（可选）
        type: string
      left:
        description: X 坐标（左边距）
        type: integer
      rotation:
        description: 旋转角度
        type: integer
      top:
        description: Y 坐标（上边距）
        type: integer
      type:
        description: 设施类型：elevator, corridor, storage 等
        type: string
      updated_at:
        description: 更新时间
        type: string
      width:
        description: 宽度
        type: integer
    type: object
  models.Room:
    properties:
      area:
        description: 面积（平方米）
        type: number
      bed_type:
        description: 床型：单人床、双人床、大床
        type: string
      capacity:
        description: 可住人数
        type: integer
      created_at:
        description: 创建时间
        type: string
      description:
        description: 房间描述
        type: string
      facilities:
        description: 设施（JSON 字符串）
        type: string
      floor:
        description: 楼层
        type: integer
      height:
        description: 高度
        type: integer
      id:
        description: 主键
        type: integer
      images:
        description: 图片 URL（JSON 数组）
        type: string
      left:
        description: 左边界
        type: integer
      original_price:
        description: 原价
        type: number
      price:
        description: 价格（每晚）
        type: number
      room_number:
        description: 房间号（唯一，有索引）
        type: string
      room_type:
        description: 房间类型（有索引）
        type: string
      status:
        description: 状态：available, occupied, maintenance
        type: string
      top:
        description: 上边界
        type: integer
      updated_at:
        description: 更新时间
        type: string
      width:
        description: 宽度
        type: integer
    type: object
  models.User:
    properties:
      avatar:
        description: 头像 URL
        type: string
      created_at:
        description: 创建时间
        type: string
      email:
        description: 邮箱（唯一）
        type: string
      first_login:
        description: 是否首次登录
        type: boolean
      id:
        description: 主键（使用雪花算法生成，JSON序列化为字符串）
        type: integer
      phone:
        description: 手机号（唯一，可为空）
        type: string
      real_name:
        description: 真实姓名
        type: string
      role:
        description: 角色：user, admin
        type: string
      status:
        description: 状态：active, blocked
        type: string
      updated_at:
        description: 更新时间
        type: string
      username:
        description: 用户名（唯一）
        type: string
    type: object
  service.AddUserRequest:
    properties:
      email:
        type: string
      phone:
        type: string
      real_name:
        type: string
      role:
        type: string
      username:
        maxLength: 20
        minLength: 3
        type: string
    required:
    - email
    - username
    type: object
  service.BatchCreateRoomRequest:
    properties:
      rooms:
        items:
          $ref: '#/definitions/service.CreateRoomRequest'
        minItems: 1
        type: array
    required:
    - rooms
    type: object
  service.BatchCreateRoomsResult:
    properties:
      created_rooms:
        description: 成功创建的房间
        items:
          $ref: '#/definitions/models.Room'
        type: array
      failed_count:
        description: 失败的数量
        type: integer
      failed_rooms:
        description: 失败的房间信息
        items:
          $ref: '#/definitions/service.FailedRoom'
        type: array
      success_count:
        description: 成功创建的数量
        type: integer
    type: object
  service.BatchUpdateFacilitiesRequest:
    properties:
      items:
        items:
          $ref: '#/definitions/service.BatchUpdateFacilityItem'
        type: array
    required:
    - items
    type: object
  service.BatchUpdateFacilityItem:
    properties:
      height:
        type: integer
      id:
        type: integer
      left:
        type: integer
      rotation:
        type: integer
      top:
        type: integer
      width:
        type: integer
    required:
    - id
    type: object
  service.CreateBookingRequest:
    properties:
      check_in:
        description: '格式: "2024-01-01"'
        type: string
      check_out:
        description: '格式: "2024-01-05"'
        type: string
      guest_id_card:
        description: 入住人身份证号，可选
        type: string
      guest_name:
        type: string
      guest_phone:
        type: string
      room_id:
        type: integer
      special_request:
        description: 特殊要求，可选
        type: string
    required:
    - check_in
    - check_out
    - guest_name
    - guest_phone
    - room_id
    type: object
  service.CreateFacilityRequest:
    properties:
      floor:
        type: integer
      height:
        type: integer
      label:
        type: string
      left:
        type: integer
      rotation:
        type: integer
      top:
        type: integer
      type:
        type: string
      width:
        type: integer
    required:
    - floor
    - height
    - left
    - top
    - type
    - width
    type: object
  service.CreateRoomRequest:
    properties:
      area:
        type: number
      bed_type:
        type: string
      capacity:
        type: integer
      description:
        type: string
      facilities:
        type: string
      floor:
        type: integer
      height:
        type: integer
      images:
        type: string
      left:
        type: integer
      original_price:
        type: number
      price:
        type: number
      room_number:
        type: string
      room_type:
        type: string
      top:
        type: integer
      width:
        type: integer
    required:
    - capacity
    - floor
    - price
    - room_number
    - room_type
    type: object
  service.DeleteUsersRequest:
    properties:
      user_ids:
        items:
          type: string
        minItems: 1
        type: array
    required:
    - user_ids
    type: object
  service.FailedRoom:
    properties:
      reason:
        type: string
      room_number:
        type: string
    type: object
  service.LogEntry:
    properties:
      level:
        enum:
        - debug
        - info
        - warn
        - error
        type: string
      message:
        type: string
    required:
    - level
    - message
    type: object
  service.LogReportRequest:
    properties:
      logs:
        items:
          $ref: '#/definitions/service.LogEntry'
        minItems: 1
        type: array
    required:
    - logs
    type: object
  service.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  service.LoginResponse:
    properties:
      token:
        type: string
      user:
        $ref: '#/definitions/models.User'
    type: object
  service.RegisterRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
      phone:
        type: string
      real_name:
        type: string
      username:
        maxLength: 20
        minLength: 3
        type: string
    required:
    - email
    - password
    - username
    type: object
  service.UpdateFacilityRequest:
    properties:
      floor:
        type: integer
      height:
        type: integer
      label:
        type: string
      left:
        type: integer
      rotation:
        type: integer
      top:
        type: integer
      type:
        type: string
      width:
        type: integer
    type: object
  service.UpdateRoomRequest:
    properties:
      area:
        type: number
      bed_type:
        type: string
      capacity:
        type: integer
      description:
        type: string
      facilities:
        type: string
      floor:
        type: integer
      height:
        type: integer
      images:
        type: string
      left:
        type: integer
      original_price:
        type: number
      price:
        type: number
      room_type:
        type: string
      status:
        type: string
      top:
        type: integer
      width:
        type: integer
    type: object
host: nas.yumi.chat:19999
info:
  contact:
    email: support@gohotel.com
    name: API Support
  description: 这是一个酒店预订管理系统的 RESTful API 服务
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: 酒店管理系统 API
  version: "1.0"
paths:
  /api/admin/banners:
    get:
      consumes:
      - application/json
      description: 获取所有活动横幅，支持分页
      parameters:
      - description: 页码，默认1
        in: query
        name: page
        type: integer
      - description: 每页条数，默认10
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: 获取所有活动横幅
      tags:
      - 活动管理
    post:
      consumes:
      - multipart/form-data
      description: 创建新的活动横幅，使用临时图片URL
      parameters:
      - description: 活动横幅标题
        in: formData
        name: title
        required: true
        type: string
      - description: 活动横幅副标题
        in: formData
        name: subtitle
        type: string
      - description: 临时图片URL（通过通用上传接口获取）
        in: formData
        name: temp_url
        required: true
        type: string
      - description: 点击跳转链接
        in: formData
        name: link_url
        type: string
      - description: 展示顺序
        in: formData
        name: sort
        type: integer
      - description: 活动开始时间
        in: formData
        name: start_time
        type: string
      - description: 活动结束时间
        in: formData
        name: end_time
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Banner'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: 创建活动横幅
      tags:
      - 活动管理
  /api/admin/banners/{id}:
    get:
      consumes:
      - application/json
      description: 根据ID获取活动横幅详情
      parameters:
      - description: 活动横幅ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Banner'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: 根据ID获取活动横幅
      tags:
      - 活动管理
    post:
      consumes:
      - multipart/form-data
      description: 更新活动横幅信息，使用临时图片URL
      parameters:
      - description: 活动横幅ID
        in: path
        name: id
        required: true
        type: string
      - description: 活动横幅标题
        in: formData
        name: title
        type: string
      - description: 活动横幅副标题
        in: formData
        name: subtitle
        type: string
      - description: 临时图片URL（通过通用上传接口获取）
        in: formData
        name: temp_url
        required: true
        type: string
      - description: 点击跳转链接
        in: formData
        name: link_url
        type: string
      - description: 展示顺序
        in: formData
        name: sort
        type: integer
      - description: 活动开始时间
        in: formData
        name: start_time
        type: string
      - description: 活动结束时间
        in: formData
        name: end_time
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Banner'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: 更新活动横幅
      tags:
      - 活动管理
  /api/admin/banners/{id}/delete:
    post:
      consumes:
      - application/json
      description: 删除指定ID的活动横幅
      parameters:
      - description: 活动横幅ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: 删除活动横幅
      tags:
      - 活动管理
  /api/admin/bookings:
    get:
      consumes:
      - application/json
      description: 管理员获取所有预订列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Booking'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 获取所有预订（管理员）
      tags:
      - 管理员
  /api/admin/bookings/{id}/checkin:
    post:
      consumes:
      - application/json
      description: 管理员为已确认的预订办理入住
      parameters:
      - description: 预订 ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 办理入住（管理员）
      tags:
      - 管理员
  /api/admin/bookings/{id}/checkout:
    post:
      consumes:
      - application/json
      description: 管理员为入住中的预订办理退房
      parameters:
      - description: 预订 ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 办理退房（管理员）
      tags:
      - 管理员
  /api/admin/bookings/{id}/confirm:
    post:
      consumes:
      - application/json
      description: 管理员确认待处理的预订
      parameters:
      - description: 预订 ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 确认预订（管理员）
      tags:
      - 管理员
  /api/admin/bookings/room:
    get:
      consumes:
      - application/json
      description: 管理员根据房间号和状态获取预订列表
      parameters:
      - description: 房间号
        in: query
        name: room_number
        required: true
        type: string
      - description: 预订状态
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: '{\"data\": [...], \"count\": number}'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 根据房间号和状态获取预订列表
      tags:
      - 管理员
  /api/admin/bookings/search:
    get:
      consumes:
      - application/json
      description: 根据客人姓名、手机号和状态搜索预订记录
      parameters:
      - description: 客人姓名
        in: query
        name: guest_name
        type: string
      - description: 客人手机号
        in: query
        name: guest_phone
        type: string
      - description: 预订状态
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: '{\"data\": [...], \"count\": number}'
          schema:
            additionalProperties: true
            type: object
        "400":
          description: '{\"error\": string}'
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 通过客人信息搜索预订
      tags:
      - 管理员
  /api/admin/facilities:
    get:
      consumes:
      - application/json
      description: 管理员查询所有设施（分页）
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Facility'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 查询所有设施（管理员）
      tags:
      - 管理员
    post:
      consumes:
      - application/json
      description: 管理员创建设施
      parameters:
      - description: 设施信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.CreateFacilityRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Facility'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 创建设施（管理员）
      tags:
      - 管理员
  /api/admin/facilities/{id}:
    get:
      consumes:
      - application/json
      description: 管理员根据 ID 查找设施
      parameters:
      - description: 设施 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Facility'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 根据 ID 查找设施（管理员）
      tags:
      - 管理员
    post:
      consumes:
      - application/json
      description: 管理员更新设施
      parameters:
      - description: 设施 ID
        in: path
        name: id
        required: true
        type: integer
      - description: 设施信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.UpdateFacilityRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Facility'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 更新设施（管理员）
      tags:
      - 管理员
  /api/admin/facilities/{id}/delete:
    post:
      consumes:
      - application/json
      description: 管理员删除设施
      parameters:
      - description: 设施 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 删除设施（管理员）
      tags:
      - 管理员
  /api/admin/facilities/batch:
    post:
      consumes:
      - application/json
      description: 管理员批量更新设施的位置和尺寸信息
      parameters:
      - description: 设施位置信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.BatchUpdateFacilitiesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 批量更新设施位置（管理员）
      tags:
      - 管理员
  /api/admin/facilities/floor/{floor}:
    get:
      consumes:
      - application/json
      description: 管理员获取指定楼层的所有设施
      parameters:
      - description: 楼层
        in: path
        name: floor
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Facility'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 按楼层查询设施（管理员）
      tags:
      - 管理员
  /api/admin/logs:
    get:
      consumes:
      - application/json
      description: 分页获取日志列表（管理员）
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 获取日志列表
      tags:
      - 日志
  /api/admin/users:
    get:
      consumes:
      - application/json
      description: 管理员获取所有用户列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 用户名
        in: query
        name: username
        type: string
      - description: 邮箱
        in: query
        name: email
        type: string
      - description: 手机号
        in: query
        name: phone
        type: string
      - description: 真实姓名
        in: query
        name: real_name
        type: string
      - description: 角色
        in: query
        name: role
        type: string
      - description: 状态
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.User'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 获取用户列表（管理员）
      tags:
      - 管理员
  /api/admin/users/{id}:
    get:
      consumes:
      - application/json
      description: 管理员根据用户ID获取用户详细信息
      parameters:
      - description: 用户 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.User'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 获取用户详情（管理员）
      tags:
      - 管理员
  /api/admin/users/batch:
    post:
      consumes:
      - application/json
      description: 管理员批量删除用户账户
      parameters:
      - description: 删除用户信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.DeleteUsersRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 批量删除用户
      tags:
      - 管理员
  /api/admin/users/user:
    post:
      consumes:
      - application/json
      description: 管理员添加新的用户账户，默认密码为yumi123456
      parameters:
      - description: 管理员信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.AddUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.User'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 添加用户
      tags:
      - 管理员
  /api/auth/login:
    post:
      consumes:
      - application/json
      description: 用户登录接口，返回用户信息和 JWT token
      parameters:
      - description: 登录信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/service.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: 用户登录
      tags:
      - 认证
  /api/auth/register:
    post:
      consumes:
      - application/json
      description: 新用户注册接口
      parameters:
      - description: 注册信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.User'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: 用户注册
      tags:
      - 认证
  /api/banners/active:
    get:
      consumes:
      - application/json
      description: 获取激活状态的活动横幅，用于前端展示
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Banner'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: 获取激活的活动横幅
      tags:
      - 活动管理
  /api/bookings:
    post:
      consumes:
      - application/json
      description: 创建新的房间预订，需要登录
      parameters:
      - description: 预订信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.CreateBookingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Booking'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 创建预订
      tags:
      - 预订
  /api/bookings/{id}:
    get:
      consumes:
      - application/json
      description: 根据预订ID获取预订详细信息，只能查看自己的预订
      parameters:
      - description: 预订 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Booking'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 获取预订详情
      tags:
      - 预订
  /api/bookings/{id}/cancel:
    post:
      consumes:
      - application/json
      description: 取消指定的预订，只能取消自己的预订
      parameters:
      - description: 预订 ID
        in: path
        name: id
        required: true
        type: integer
      - description: 取消原因
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 取消预订
      tags:
      - 预订
  /api/bookings/my:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的所有预订列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Booking'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 获取我的预订列表
      tags:
      - 预订
  /api/logs/report:
    post:
      consumes:
      - application/json
      description: 客户端批量上报日志
      parameters:
      - description: 日志数据
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.LogReportRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: 日志上报
      tags:
      - 日志
  /api/rooms:
    get:
      consumes:
      - application/json
      description: 获取所有房间列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Room'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: 获取房间列表
      tags:
      - 房间
    post:
      consumes:
      - application/json
      description: 管理员创建新房间
      parameters:
      - description: 房间信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.CreateRoomRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Room'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 创建房间（管理员）
      tags:
      - 管理员
  /api/rooms/{id}:
    get:
      consumes:
      - application/json
      description: 根据房间ID获取房间详细信息
      parameters:
      - description: 房间 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Room'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: 获取房间详情
      tags:
      - 房间
    post:
      consumes:
      - application/json
      description: 管理员更新房间信息
      parameters:
      - description: 房间 ID
        in: path
        name: id
        required: true
        type: integer
      - description: 房间信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.UpdateRoomRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Room'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 更新房间（管理员）
      tags:
      - 管理员
  /api/rooms/{id}/delete:
    post:
      consumes:
      - application/json
      description: 管理员删除房间
      parameters:
      - description: 房间 ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 删除房间（管理员）
      tags:
      - 管理员
  /api/rooms/available:
    get:
      consumes:
      - application/json
      description: 获取所有可用状态的房间列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Room'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: 获取可用房间列表
      tags:
      - 房间
  /api/rooms/batch:
    post:
      consumes:
      - application/json
      description: 管理员批量创建多个房间，支持部分成功
      parameters:
      - description: 房间列表
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.BatchCreateRoomRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/service.BatchCreateRoomsResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 批量创建房间（管理员）
      tags:
      - 管理员
  /api/rooms/floor/{floor}:
    get:
      consumes:
      - application/json
      description: 根据楼层号获取该楼层的所有房间，支持分页
      parameters:
      - description: 楼层号
        in: path
        name: floor
        required: true
        type: integer
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Room'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: 根据楼层获取房间
      tags:
      - 房间
  /api/rooms/search/type:
    get:
      consumes:
      - application/json
      description: 根据房型搜索房间，支持分页
      parameters:
      - description: 房型
        in: query
        name: type
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Room'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: 按房型搜索房间
      tags:
      - 房间
  /api/upload/image:
    post:
      consumes:
      - multipart/form-data
      description: 上传图片到腾讯云对象存储，返回临时URL
      parameters:
      - description: 图片文件
        in: formData
        name: image
        required: true
        type: file
      - description: 资源类型：banner/room/user等
        in: formData
        name: type
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: '{\"temp_url\": \"临时图片URL\"}'
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: '{\"error\": \"错误信息\"}'
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: '{\"error\": \"错误信息\"}'
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: 通用图片上传
      tags:
      - 文件上传
  /api/users/password:
    post:
      consumes:
      - application/json
      description: 修改当前登录用户的密码
      parameters:
      - description: 密码信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 修改密码
      tags:
      - 用户
  /api/users/profile:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的个人信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.User'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 获取个人信息
      tags:
      - 用户
    post:
      consumes:
      - application/json
      description: 更新当前登录用户的个人信息
      parameters:
      - description: 更新信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.User'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - Bearer: []
      summary: 更新个人信息
      tags:
      - 用户
securityDefinitions:
  Bearer:
    description: 输入 "Bearer {token}" 格式的 JWT token
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
